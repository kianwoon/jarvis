<!DOCTYPE html>
<html>
<head>
    <title>Debug MCP Server Cards</title>
</head>
<body>
    <h1>MCP Server Debug Test</h1>
    <script>
        // Test fetching servers and logging their data
        fetch('/api/v1/mcp/servers/')
            .then(response => response.json())
            .then(servers => {
                console.log('Servers data:', servers);
                
                const container = document.createElement('div');
                container.innerHTML = '<h2>Server Data Analysis</h2>';
                
                servers.forEach(server => {
                    const serverDiv = document.createElement('div');
                    serverDiv.style.border = '1px solid #ccc';
                    serverDiv.style.padding = '10px';
                    serverDiv.style.margin = '10px 0';
                    
                    const hasId = server.id !== null && server.id !== undefined;
                    const shouldShowButtons = hasId;
                    
                    serverDiv.innerHTML = `
                        <h3>${server.name}</h3>
                        <p><strong>ID:</strong> ${server.id} (type: ${typeof server.id})</p>
                        <p><strong>Config Type:</strong> ${server.config_type}</p>
                        <p><strong>Has ID:</strong> ${hasId}</p>
                        <p><strong>Should Show Buttons:</strong> ${shouldShowButtons}</p>
                        <p><strong>Tools:</strong> ${server.tool_count || 0}</p>
                        <p><strong>Status:</strong> ${server.status}</p>
                        <div style="color: ${shouldShowButtons ? 'green' : 'red'}">
                            ${shouldShowButtons ? '✅ Action buttons should be visible' : '❌ Action buttons will be hidden'}
                        </div>
                    `;
                    
                    container.appendChild(serverDiv);
                });
                
                document.body.appendChild(container);
            })
            .catch(error => {
                console.error('Error fetching servers:', error);
                document.body.innerHTML += '<p style="color: red;">Error fetching servers: ' + error + '</p>';
            });
    </script>
</body>
</html>